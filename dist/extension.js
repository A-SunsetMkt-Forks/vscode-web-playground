!function(e,t){for(var s in t)e[s]=t[s]}(exports,function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=1)}([function(e,t){e.exports=require("vscode")},function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))((function(r,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MockRuntime=t.MockDebugSession=t.MockDebugAdapterDescriptorFactory=t.Handles=t.DebugSession=t.ErrorDestination=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=t.ProtocolServer=t.Event=t.Response=t.Message=t.activate=void 0;const r=s(0),i=s(2);function o(e,t){e&&"/sample-folder/large.ts"===e.fileName?t.set(e.uri,[{code:"",message:"cannot assign twice to immutable variable `storeHouses`",range:new r.Range(new r.Position(4,12),new r.Position(4,32)),severity:r.DiagnosticSeverity.Error,source:"",relatedInformation:[new r.DiagnosticRelatedInformation(new r.Location(e.uri,new r.Range(new r.Position(1,8),new r.Position(1,9))),"first assignment to `x`")]},{code:"",message:"function does not follow naming conventions",range:new r.Range(new r.Position(7,10),new r.Position(7,23)),severity:r.DiagnosticSeverity.Warning,source:""}]):t.clear()}t.activate=function(e){var t;if("object"==typeof navigator){const s=function(e){const t=new i.MemFS;return e.subscriptions.push(t),t}(e);(null===(t=r.workspace.workspaceFolders)||void 0===t?void 0:t.some(e=>e.uri.scheme===i.MemFS.scheme))&&(s.seed(),function(e){const t=r.languages.createDiagnosticCollection("test");r.window.activeTextEditor&&o(r.window.activeTextEditor.document,t);e.subscriptions.push(r.window.onDidChangeActiveTextEditor(e=>{e&&o(e.document,t)}))}(e),function(){class e{constructor(e){this.workspaceRoot=e}provideTasks(){return n(this,void 0,void 0,(function*(){return this.getTasks()}))}resolveTask(e){if(e.definition.flavor){const t=e.definition;return this.getTask(t.flavor,t.flags?t.flags:[],t)}}getTasks(){if(void 0!==this.tasks)return this.tasks;const e=[["watch","incremental"],["incremental"],[]];return this.tasks=[],["32","64"].forEach(t=>{e.forEach(e=>{this.tasks.push(this.getTask(t,e))})}),this.tasks}getTask(s,i,o){return void 0===o&&(o={type:e.CustomBuildScriptType,flavor:s,flags:i}),new r.Task2(o,r.TaskScope.Workspace,`${s} ${i.join(" ")}`,e.CustomBuildScriptType,new r.CustomExecution(()=>n(this,void 0,void 0,(function*(){return new t(this.workspaceRoot,s,i,()=>this.sharedState,e=>this.sharedState=e)}))))}}e.CustomBuildScriptType="custombuildscript";class t{constructor(e,t,s,n,i){this.workspaceRoot=e,this.flags=s,this.getSharedState=n,this.setSharedState=i,this.writeEmitter=new r.EventEmitter,this.onDidWrite=this.writeEmitter.event,this.closeEmitter=new r.EventEmitter,this.onDidClose=this.closeEmitter.event}open(e){if(this.flags.indexOf("watch")>-1){let e=this.workspaceRoot+"/customBuildFile";this.fileWatcher=r.workspace.createFileSystemWatcher(e),this.fileWatcher.onDidChange(()=>this.doBuild()),this.fileWatcher.onDidCreate(()=>this.doBuild()),this.fileWatcher.onDidDelete(()=>this.doBuild())}this.doBuild()}close(){this.fileWatcher&&this.fileWatcher.dispose()}doBuild(){return n(this,void 0,void 0,(function*(){return new Promise(e=>{this.writeEmitter.fire("Starting build...\r\n");let t=this.flags.indexOf("incremental")>-1;t&&(this.getSharedState()?this.writeEmitter.fire("Using last build results: "+this.getSharedState()+"\r\n"):(t=!1,this.writeEmitter.fire("No result from last build. Doing full build.\r\n"))),setTimeout(()=>{const t=new Date;this.setSharedState(t.toTimeString()+" "+t.toDateString()),this.writeEmitter.fire("Build complete.\r\n\r\n"),-1===this.flags.indexOf("watch")&&(this.closeEmitter.fire(),e())},t?1e3:4e3)})}))}}r.tasks.registerTaskProvider(e.CustomBuildScriptType,new e(r.workspace.rootPath))}(),function(e,t){e.subscriptions.push(r.debug.registerDebugConfigurationProvider("mock",new _)),e.subscriptions.push(r.debug.registerDebugAdapterDescriptorFactory("mock",new k(t)))}(e,s),r.commands.executeCommand("vscode.open",r.Uri.parse("memfs:/sample-folder/large.ts")))}};class a{constructor(e){this.seq=0,this.type=e}}t.Message=a;class u extends a{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}}t.Response=u;class c extends a{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}t.Event=c;class l{constructor(){this.close=new r.EventEmitter,this.onClose=this.close.event,this.error=new r.EventEmitter,this.onError=this.error.event,this.sendMessage=new r.EventEmitter,this.onDidSendMessage=this.sendMessage.event,this._sequence=1,this._pendingRequests=new Map}handleMessage(e){this.dispatch(e)}dispose(){}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error("attempt to send more than one response for command "+e.command):this._send("response",e)}sendRequest(e,t,s,n){const r={command:e};if(t&&Object.keys(t).length>0&&(r.arguments=t),this._send("request",r),n){this._pendingRequests.set(r.seq,n);const e=setTimeout(()=>{clearTimeout(e);const t=this._pendingRequests.get(r.seq);t&&(this._pendingRequests.delete(r.seq),t(new u(r,"timeout")))},s)}}dispatchRequest(e){}dispatch(e){if("request"===e.type)this.dispatchRequest(e);else if("response"===e.type){const t=e,s=this._pendingRequests.get(t.request_seq);s&&(this._pendingRequests.delete(t.request_seq),s(t))}}_send(e,t){t.type=e,t.seq=this._sequence++,this.sendMessage.fire(t)}}t.ProtocolServer=l;class d{constructor(e,t,s=0,n,r){this.name=e,this.path=t,this.sourceReference=s,n&&(this.origin=n),r&&(this.adapterData=r)}}t.Source=d;class h{constructor(e,t,s=!1){this.name=e,this.variablesReference=t,this.expensive=s}}t.Scope=h;class p{constructor(e,t,s,n=0,r=0){this.id=e,this.source=s,this.line=n,this.column=r,this.name=t}}t.StackFrame=p;class m{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}}t.Thread=m;t.Variable=class{constructor(e,t,s=0,n,r){this.name=e,this.value=t,this.variablesReference=s,"number"==typeof r&&(this.namedVariables=r),"number"==typeof n&&(this.indexedVariables=n)}};class g{constructor(e,t,s,n){this.verified=e;const r=this;"number"==typeof t&&(r.line=t),"number"==typeof s&&(r.column=s),n&&(r.source=n)}}t.Breakpoint=g;t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,s=0){this.label=e,this.start=t,this.length=s}};class f extends c{constructor(e,t,s){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof s&&(this.body.text=s)}}t.StoppedEvent=f;t.ContinuedEvent=class extends c{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}};class b extends c{constructor(){super("initialized")}}t.InitializedEvent=b;class v extends c{constructor(e){if(super("terminated"),"boolean"==typeof e||e){this.body={restart:e}}}}t.TerminatedEvent=v;class y extends c{constructor(e,t="console",s){super("output"),this.body={category:t,output:e},void 0!==s&&(this.body.data=s)}}t.OutputEvent=y;t.ThreadEvent=class extends c{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}};class R extends c{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=R;t.ModuleEvent=class extends c{constructor(e,t){super("module"),this.body={reason:e,module:t}}};t.LoadedSourceEvent=class extends c{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}};var S;t.CapabilitiesEvent=class extends c{constructor(e){super("capabilities"),this.body={capabilities:e}}},function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(S=t.ErrorDestination||(t.ErrorDestination={}));class w extends l{constructor(e,t){super();const s="boolean"==typeof e&&e;this._debuggerLinesStartAt1=s,this._debuggerColumnsStartAt1=s,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.onClose(()=>{this.shutdown()}),this.onError(e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}shutdown(){this._isServer}sendErrorResponse(e,t,s,n,r=S.User){let i;"number"==typeof t?(i={id:t,format:s},n&&(i.variables=n),r&S.User&&(i.showUser=!0),r&S.Telemetry&&(i.sendTelemetry=!0)):i=t,e.success=!1,e.message=w.formatPII(i.format,!0,i.variables),e.body||(e.body={}),e.body.error=i,this.sendResponse(e)}runInTerminalRequest(e,t,s){this.sendRequest("runInTerminal",e,t,s)}dispatchRequest(e){const t=new u(e);try{if("initialize"===e.command){const s=e.arguments;if("boolean"==typeof s.linesStartAt1&&(this._clientLinesStartAt1=s.linesStartAt1),"boolean"==typeof s.columnsStartAt1&&(this._clientColumnsStartAt1=s.columnsStartAt1),"path"!==s.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,S.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,s)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},S.Telemetry)}}initializeRequest(e,t){e.body=e.body||{},e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,this.sendResponse(e)}disconnectRequest(e,t,s){this.sendResponse(e),this.shutdown()}launchRequest(e,t,s){this.sendResponse(e)}attachRequest(e,t,s){this.sendResponse(e)}terminateRequest(e,t,s){this.sendResponse(e)}restartRequest(e,t,s){this.sendResponse(e)}setBreakPointsRequest(e,t,s){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,s){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,s){this.sendResponse(e)}configurationDoneRequest(e,t,s){this.sendResponse(e)}continueRequest(e,t,s){this.sendResponse(e)}nextRequest(e,t,s){this.sendResponse(e)}stepInRequest(e,t,s){this.sendResponse(e)}stepOutRequest(e,t,s){this.sendResponse(e)}stepBackRequest(e,t,s){this.sendResponse(e)}reverseContinueRequest(e,t,s){this.sendResponse(e)}restartFrameRequest(e,t,s){this.sendResponse(e)}gotoRequest(e,t,s){this.sendResponse(e)}pauseRequest(e,t,s){this.sendResponse(e)}sourceRequest(e,t,s){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,s){this.sendResponse(e)}stackTraceRequest(e,t,s){this.sendResponse(e)}scopesRequest(e,t,s){this.sendResponse(e)}variablesRequest(e,t,s){this.sendResponse(e)}setVariableRequest(e,t,s){this.sendResponse(e)}setExpressionRequest(e,t,s){this.sendResponse(e)}evaluateRequest(e,t,s){this.sendResponse(e)}stepInTargetsRequest(e,t,s){this.sendResponse(e)}gotoTargetsRequest(e,t,s){this.sendResponse(e)}completionsRequest(e,t,s){this.sendResponse(e)}exceptionInfoRequest(e,t,s){this.sendResponse(e)}loadedSourcesRequest(e,t,s){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,s){this.sendResponse(e)}setDataBreakpointsRequest(e,t,s){this.sendResponse(e)}readMemoryRequest(e,t,s){this.sendResponse(e)}disassembleRequest(e,t,s){this.sendResponse(e)}cancelRequest(e,t,s){this.sendResponse(e)}breakpointLocationsRequest(e,t,s){this.sendResponse(e)}customRequest(e,t,s,n){this.sendErrorResponse(t,1014,"unrecognized request",null,S.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?w.uri2path(e):w.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?w.uri2path(e):w.path2uri(e):e}static path2uri(e){e=encodeURI(e);let t=new URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new URL(e);return decodeURIComponent(t.pathname)}static formatPII(e,t,s){return e.replace(w._formatPIIRegexp,(function(e,n){return t&&n.length>0&&"_"!==n[0]?e:s&&s[n]&&s.hasOwnProperty(n)?s[n]:e}))}}t.DebugSession=w,w._formatPIIRegexp=/{([^}]+)}/g;class x{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle="number"==typeof e?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){const t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}}t.Handles=x;class _{resolveDebugConfiguration(e,t,s){if(!t.type&&!t.request&&!t.name){const e=r.window.activeTextEditor;e&&"markdown"===e.document.languageId&&(t.type="mock",t.name="Launch",t.request="launch",t.program="${file}",t.stopOnEntry=!0)}return t.program?t:r.window.showInformationMessage("Cannot find a program to debug").then(e=>{})}}class k{constructor(e){this.memfs=e}createDebugAdapterDescriptor(e,t){return new r.DebugAdapterInlineImplementation(new E(this.memfs))}}function A(e){return new Promise(t=>setTimeout(t,e))}t.MockDebugAdapterDescriptorFactory=k;class E extends w{constructor(e){super(),this._variableHandles=new x,this._configurationDone=new Promise((e,t)=>{this.promiseResolve=e,setTimeout(e,1e3)}),this._cancelationTokens=new Map,this._isLongrunning=new Map,this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._runtime=new q(e),this._runtime.onStopOnEntry(()=>{this.sendEvent(new f("entry",E.THREAD_ID))}),this._runtime.onStopOnStep(()=>{this.sendEvent(new f("step",E.THREAD_ID))}),this._runtime.onStopOnBreakpoint(()=>{this.sendEvent(new f("breakpoint",E.THREAD_ID))}),this._runtime.onStopOnDataBreakpoint(()=>{this.sendEvent(new f("data breakpoint",E.THREAD_ID))}),this._runtime.onStopOnException(()=>{this.sendEvent(new f("exception",E.THREAD_ID))}),this._runtime.onBreakpointValidated(e=>{this.sendEvent(new R("changed",{verified:e.verified,id:e.id}))}),this._runtime.onOutput(e=>{const t=new y(e.text+"\n");t.body.source=this.createSource(e.filePath),t.body.line=this.convertDebuggerLineToClient(e.line),t.body.column=this.convertDebuggerColumnToClient(e.column),this.sendEvent(t)}),this._runtime.onEnd(()=>{this.sendEvent(new v)})}initializeRequest(e,t){e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!0,e.body.supportsStepBack=!0,e.body.supportsDataBreakpoints=!0,e.body.supportsCompletionsRequest=!0,e.body.completionTriggerCharacters=[".","["],e.body.supportsCancelRequest=!0,e.body.supportsBreakpointLocationsRequest=!0,this.sendResponse(e),this.sendEvent(new b)}configurationDoneRequest(e,t){super.configurationDoneRequest(e,t),this.promiseResolve&&this.promiseResolve()}launchRequest(e,t){return n(this,void 0,void 0,(function*(){yield this._configurationDone,this._runtime.start("memfs:"+t.program,!!t.stopOnEntry),this.sendResponse(e)}))}setBreakPointsRequest(e,t){const s=t.source.path,n=t.lines||[];this._runtime.clearBreakpoints(s);const r=n.map(e=>{let{verified:t,line:n,id:r}=this._runtime.setBreakPoint(s,this.convertClientLineToDebugger(e));const i=new g(t,this.convertDebuggerLineToClient(n));return i.id=r,i});e.body={breakpoints:r},this.sendResponse(e)}breakpointLocationsRequest(e,t,s){if(t.source.path){const s=this._runtime.getBreakpoints(t.source.path,this.convertClientLineToDebugger(t.line));e.body={breakpoints:s.map(e=>({line:t.line,column:this.convertDebuggerColumnToClient(e)}))}}else e.body={breakpoints:[]};this.sendResponse(e)}threadsRequest(e){e.body={threads:[new m(E.THREAD_ID,"thread 1")]},this.sendResponse(e)}stackTraceRequest(e,t){const s="number"==typeof t.startFrame?t.startFrame:0,n=s+("number"==typeof t.levels?t.levels:1e3),r=this._runtime.stack(s,n);e.body={stackFrames:r.frames.map(e=>new p(e.index,e.name,this.createSource(e.file),this.convertDebuggerLineToClient(e.line))),totalFrames:r.count},this.sendResponse(e)}scopesRequest(e,t){e.body={scopes:[new h("Local",this._variableHandles.create("local"),!1),new h("Global",this._variableHandles.create("global"),!0)]},this.sendResponse(e)}variablesRequest(e,t,s){return n(this,void 0,void 0,(function*(){const n=[];if(this._isLongrunning.get(t.variablesReference)){s&&this._cancelationTokens.set(s.seq,!1);for(let e=0;e<100&&(yield A(1e3),n.push({name:"i_"+e,type:"integer",value:""+e,variablesReference:0}),!s||!this._cancelationTokens.get(s.seq));e++);s&&this._cancelationTokens.delete(s.seq)}else{const e=this._variableHandles.get(t.variablesReference);if(e){n.push({name:e+"_i",type:"integer",value:"123",variablesReference:0}),n.push({name:e+"_f",type:"float",value:"3.14",variablesReference:0}),n.push({name:e+"_s",type:"string",value:"hello world",variablesReference:0}),n.push({name:e+"_o",type:"object",value:"Object",variablesReference:this._variableHandles.create(e+"_o")});const t=e+"_long_running",s=this._variableHandles.create(e+"_lr");n.push({name:t,type:"object",value:"Object",variablesReference:s}),this._isLongrunning.set(s,!0)}}e.body={variables:n},this.sendResponse(e)}))}continueRequest(e,t){this._runtime.continue(),this.sendResponse(e)}reverseContinueRequest(e,t){this._runtime.continue(!0),this.sendResponse(e)}nextRequest(e,t){this._runtime.step(),this.sendResponse(e)}stepBackRequest(e,t){this._runtime.step(!0),this.sendResponse(e)}evaluateRequest(e,t){let s=void 0;if("repl"===t.context){const e=/new +([0-9]+)/.exec(t.expression);if(e&&2===e.length){if(this._runtime.sourceFile){const t=this._runtime.setBreakPoint(this._runtime.sourceFile,this.convertClientLineToDebugger(parseInt(e[1]))),n=new g(t.verified,this.convertDebuggerLineToClient(t.line),void 0,this.createSource(this._runtime.sourceFile));n.id=t.id,this.sendEvent(new R("new",n)),s="breakpoint created"}}else{const e=/del +([0-9]+)/.exec(t.expression);if(e&&2===e.length){const t=this._runtime.sourceFile?this._runtime.clearBreakPoint(this._runtime.sourceFile,this.convertClientLineToDebugger(parseInt(e[1]))):void 0;if(t){const e=new g(!1);e.id=t.id,this.sendEvent(new R("removed",e)),s="breakpoint deleted"}}}}e.body={result:s||`evaluate(context: '${t.context}', '${t.expression}')`,variablesReference:0},this.sendResponse(e)}dataBreakpointInfoRequest(e,t){if(e.body={dataId:null,description:"cannot break on data access",accessTypes:void 0,canPersist:!1},t.variablesReference&&t.name){const s=this._variableHandles.get(t.variablesReference);s&&s.startsWith("global_")&&(e.body.dataId=t.name,e.body.description=t.name,e.body.accessTypes=["read"],e.body.canPersist=!1)}this.sendResponse(e)}setDataBreakpointsRequest(e,t){this._runtime.clearAllDataBreakpoints(),e.body={breakpoints:[]};for(let s of t.breakpoints){const t=this._runtime.setDataBreakpoint(s.dataId);e.body.breakpoints.push({verified:t})}this.sendResponse(e)}completionsRequest(e,t){e.body={targets:[{label:"item 10",sortText:"10"},{label:"item 1",sortText:"01"},{label:"item 2",sortText:"02"}]},this.sendResponse(e)}cancelRequest(e,t){t.requestId&&this._cancelationTokens.set(t.requestId,!0)}createSource(e){return new d(function(e){const t=e.lastIndexOf("/");return t>=0?e.substring(t+1):e}(e),this.convertDebuggerPathToClient(e),void 0,void 0,"mock-adapter-data")}}t.MockDebugSession=E,E.THREAD_ID=1;class q{constructor(e){this.memfs=e,this.stopOnEntry=new r.EventEmitter,this.onStopOnEntry=this.stopOnEntry.event,this.stopOnStep=new r.EventEmitter,this.onStopOnStep=this.stopOnStep.event,this.stopOnBreakpoint=new r.EventEmitter,this.onStopOnBreakpoint=this.stopOnBreakpoint.event,this.stopOnDataBreakpoint=new r.EventEmitter,this.onStopOnDataBreakpoint=this.stopOnDataBreakpoint.event,this.stopOnException=new r.EventEmitter,this.onStopOnException=this.stopOnException.event,this.breakpointValidated=new r.EventEmitter,this.onBreakpointValidated=this.breakpointValidated.event,this.output=new r.EventEmitter,this.onOutput=this.output.event,this.end=new r.EventEmitter,this.onEnd=this.end.event,this._sourceLines=[],this._currentLine=0,this._breakPoints=new Map,this._breakpointId=1,this._breakAddresses=new Set}get sourceFile(){return this._sourceFile}start(e,t){this.loadSource(e),this._currentLine=-1,this._sourceFile&&this.verifyBreakpoints(this._sourceFile),t?this.step(!1,this.stopOnEntry):this.continue()}continue(e=!1){this.run(e,void 0)}step(e=!1,t=this.stopOnStep){this.run(e,t)}stack(e,t){const s=this._sourceLines[this._currentLine].trim().split(/\s+/),n=new Array;for(let r=e;r<Math.min(t,s.length);r++){const e=s[r];n.push({index:r,name:`${e}(${r})`,file:this._sourceFile,line:this._currentLine})}return{frames:n,count:s.length}}getBreakpoints(e,t){const s=this._sourceLines[t];let n=!0;const r=[];for(let e=0;e<s.length;e++)" "!==s[e]?n&&(r.push(e),n=!1):n=!0;return r}setBreakPoint(e,t){const s={verified:!1,line:t,id:this._breakpointId++};let n=this._breakPoints.get(e);return n||(n=new Array,this._breakPoints.set(e,n)),n.push(s),this.verifyBreakpoints(e),s}clearBreakPoint(e,t){let s=this._breakPoints.get(e);if(s){const e=s.findIndex(e=>e.line===t);if(e>=0){const t=s[e];return s.splice(e,1),t}}}clearBreakpoints(e){this._breakPoints.delete(e)}setDataBreakpoint(e){return!!e&&(this._breakAddresses.add(e),!0)}clearAllDataBreakpoints(){this._breakAddresses.clear()}loadSource(e){if(this._sourceFile!==e){this._sourceFile=e;const t=new TextDecoder,s=r.Uri.parse(e),n=t.decode(this.memfs.readFile(s));this._sourceLines=n.split("\n")}}run(e=!1,t){if(e){for(let e=this._currentLine-1;e>=0;e--)if(this.fireEventsForLine(e,t))return void(this._currentLine=e);this._currentLine=0,this.stopOnEntry.fire()}else{for(let e=this._currentLine+1;e<this._sourceLines.length;e++)if(this.fireEventsForLine(e,t))return void(this._currentLine=e);this.end.fire()}}verifyBreakpoints(e){let t=this._breakPoints.get(e);t&&(this.loadSource(e),t.forEach(e=>{if(!e.verified&&e.line<this._sourceLines.length){const t=this._sourceLines[e.line].trim();0!==t.length&&0!==t.indexOf("+")||e.line++,0===t.indexOf("-")&&e.line--,t.indexOf("lazy")<0&&(e.verified=!0,this.breakpointValidated.fire(e))}}))}fireEventsForLine(e,t){const s=this._sourceLines[e].trim(),n=/log\((.*)\)/.exec(s);n&&2===n.length&&this._sourceFile&&this.output.fire({text:n[1],filePath:this._sourceFile,line:e,column:n.index});const r=s.split(" ");for(let e of r)if(this._breakAddresses.has(e))return this.stopOnDataBreakpoint.fire(),!0;if(s.indexOf("exception")>=0)return this.stopOnException.fire(),!0;const i=this._sourceFile?this._breakPoints.get(this._sourceFile):void 0;if(i){const t=i.filter(t=>t.line===e);if(t.length>0)return this.stopOnBreakpoint.fire(),t[0].verified||(t[0].verified=!0,this.breakpointValidated.fire(t[0])),!0}return!!(t&&s.length>0)&&(t.fire(),!0)}}t.MockRuntime=q},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemFS=t.Directory=t.File=void 0;const n=s(0),r=s(3);class i{constructor(e,t){this.uri=e,this.type=n.FileType.File,this.ctime=Date.now(),this.mtime=Date.now(),this.size=0,this.name=t}}t.File=i;class o{constructor(e,t){this.uri=e,this.type=n.FileType.Directory,this.ctime=Date.now(),this.mtime=Date.now(),this.size=0,this.name=t,this.entries=new Map}}t.Directory=o;const a=new TextEncoder;class u{constructor(){this.root=new o(n.Uri.parse("memfs:/"),""),this._emitter=new n.EventEmitter,this._bufferedEvents=[],this.onDidChangeFile=this._emitter.event,this._textDecoder=new TextDecoder,this.disposable=n.Disposable.from(n.workspace.registerFileSystemProvider(u.scheme,this,{isCaseSensitive:!0}),n.workspace.registerFileSearchProvider(u.scheme,this),n.workspace.registerTextSearchProvider(u.scheme,this))}dispose(){var e;null===(e=this.disposable)||void 0===e||e.dispose()}seed(){this.createDirectory(n.Uri.parse("memfs:/sample-folder/")),this.writeFile(n.Uri.parse("memfs:/sample-folder/large.ts"),a.encode(r.largeTSFile),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.txt"),a.encode("foo"),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.html"),a.encode('<html><body><h1 class="hd">Hello</h1></body></html>'),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.js"),a.encode('console.log("JavaScript")'),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.json"),a.encode('{ "json": true }'),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.ts"),a.encode('console.log("TypeScript")'),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.css"),a.encode("* { color: green; }"),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.md"),a.encode(r.debuggableFile),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.xml"),a.encode('<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>'),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.py"),a.encode('import base64, sys; base64.decode(open(sys.argv[1], "rb"), open(sys.argv[2], "wb"))'),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.yaml"),a.encode("- just: write something"),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.jpg"),r.getImageFile(),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/file.php"),a.encode('<?php echo "Hello World!"; ?>'),{create:!0,overwrite:!0}),this.createDirectory(n.Uri.parse("memfs:/sample-folder/folder/")),this.createDirectory(n.Uri.parse("memfs:/sample-folder/large/")),this.createDirectory(n.Uri.parse("memfs:/sample-folder/xyz/")),this.createDirectory(n.Uri.parse("memfs:/sample-folder/xyz/abc")),this.createDirectory(n.Uri.parse("memfs:/sample-folder/xyz/def")),this.writeFile(n.Uri.parse("memfs:/sample-folder/folder/empty.txt"),new Uint8Array(0),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/folder/empty.foo"),new Uint8Array(0),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/folder/file.ts"),a.encode("let a:number = true; console.log(a);"),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/large/rnd.foo"),function(e,t=155){let s=[];for(let n=0;n<e;n++){let e="";for(;e.length<t;)e+=Math.random().toString(2+n%34).substr(2);s.push(e.substr(0,t))}return a.encode(s.join("\n"))}(5e4),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/xyz/UPPER.txt"),a.encode("UPPER"),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/xyz/upper.txt"),a.encode("upper"),{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/xyz/def/foo.md"),a.encode("*MemFS*"),{create:!0,overwrite:!0}),this.createDirectory(n.Uri.parse("memfs:/sample-folder/encodings/")),this.writeFile(n.Uri.parse("memfs:/sample-folder/encodings/windows1251.txt"),r.windows1251File,{create:!0,overwrite:!0}),this.writeFile(n.Uri.parse("memfs:/sample-folder/encodings/gbk.txt"),r.gbkFile,{create:!0,overwrite:!0})}stat(e){return this._lookup(e,!1)}readDirectory(e){const t=this._lookupAsDirectory(e,!1);let s=[];for(const[e,n]of t.entries)s.push([e,n.type]);return s}readFile(e){const t=this._lookupAsFile(e,!1).data;if(t)return t;throw n.FileSystemError.FileNotFound()}writeFile(e,t,s){let r=this._basename(e.path),a=this._lookupParentDirectory(e),u=a.entries.get(r);if(u instanceof o)throw n.FileSystemError.FileIsADirectory(e);if(!u&&!s.create)throw n.FileSystemError.FileNotFound(e);if(u&&s.create&&!s.overwrite)throw n.FileSystemError.FileExists(e);u||(u=new i(e,r),a.entries.set(r,u),this._fireSoon({type:n.FileChangeType.Created,uri:e})),u.mtime=Date.now(),u.size=t.byteLength,u.data=t,this._fireSoon({type:n.FileChangeType.Changed,uri:e})}rename(e,t,s){if(!s.overwrite&&this._lookup(t,!0))throw n.FileSystemError.FileExists(t);let r=this._lookup(e,!1),i=this._lookupParentDirectory(e),o=this._lookupParentDirectory(t),a=this._basename(t.path);i.entries.delete(r.name),r.name=a,o.entries.set(a,r),this._fireSoon({type:n.FileChangeType.Deleted,uri:e},{type:n.FileChangeType.Created,uri:t})}delete(e){let t=e.with({path:this._dirname(e.path)}),s=this._basename(e.path),r=this._lookupAsDirectory(t,!1);if(!r.entries.has(s))throw n.FileSystemError.FileNotFound(e);r.entries.delete(s),r.mtime=Date.now(),r.size-=1,this._fireSoon({type:n.FileChangeType.Changed,uri:t},{uri:e,type:n.FileChangeType.Deleted})}createDirectory(e){let t=this._basename(e.path),s=e.with({path:this._dirname(e.path)}),r=this._lookupAsDirectory(s,!1),i=new o(e,t);r.entries.set(i.name,i),r.mtime=Date.now(),r.size+=1,this._fireSoon({type:n.FileChangeType.Changed,uri:s},{type:n.FileChangeType.Created,uri:e})}_lookup(e,t){let s=e.path.split("/"),r=this.root;for(const i of s){if(!i)continue;let s;if(r instanceof o&&(s=r.entries.get(i)),!s){if(t)return;throw n.FileSystemError.FileNotFound(e)}r=s}return r}_lookupAsDirectory(e,t){let s=this._lookup(e,t);if(s instanceof o)return s;throw n.FileSystemError.FileNotADirectory(e)}_lookupAsFile(e,t){let s=this._lookup(e,t);if(s instanceof i)return s;throw n.FileSystemError.FileIsADirectory(e)}_lookupParentDirectory(e){const t=e.with({path:this._dirname(e.path)});return this._lookupAsDirectory(t,!1)}watch(e){return new n.Disposable(()=>{})}_fireSoon(...e){this._bufferedEvents.push(...e),this._fireSoonHandle&&clearTimeout(this._fireSoonHandle),this._fireSoonHandle=setTimeout(()=>{this._emitter.fire(this._bufferedEvents),this._bufferedEvents.length=0},5)}_basename(e){return(e=this._rtrim(e,"/"))?e.substr(e.lastIndexOf("/")+1):""}_dirname(e){return(e=this._rtrim(e,"/"))?e.substr(0,e.lastIndexOf("/")):"/"}_rtrim(e,t){if(!e||!t)return e;const s=t.length,n=e.length;if(0===s||0===n)return e;let r=n,i=-1;for(;i=e.lastIndexOf(t,r-1),-1!==i&&i+s===r;){if(0===i)return"";r=i}return e.substring(0,r)}_getFiles(){const e=new Set;return this._doGetFiles(this.root,e),e}_doGetFiles(e,t){e.entries.forEach(e=>{e instanceof i?t.add(e):this._doGetFiles(e,t)})}_convertSimple2RegExpPattern(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}provideFileSearchResults(e,t,s){return this._findFiles(e.pattern)}_findFiles(e){const t=this._getFiles(),s=[],n=e?new RegExp(this._convertSimple2RegExpPattern(e)):null;for(const e of t)n&&!n.exec(e.name)||s.push(e.uri);return s}provideTextSearchResults(e,t,s,r){const i=this._findFiles(t.includes[0]);if(i)for(const t of i){const r=this._textDecoder.decode(this.readFile(t)).split("\n");for(let i=0;i<r.length;i++){const o=r[i],a=o.indexOf(e.pattern);-1!==a&&s.report({uri:t,ranges:new n.Range(new n.Position(i,a),new n.Position(i,a+e.pattern.length)),preview:{text:o,matches:new n.Range(new n.Position(0,a),new n.Position(0,a+e.pattern.length))}})}}return{limitHit:!1}}}t.MemFS=u,u.scheme="memfs"},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gbkFile=t.windows1251File=t.getImageFile=t.debuggableFile=t.largeTSFile=void 0,t.largeTSFile="/// <reference path=\"lib/Geometry.ts\"/>\n/// <reference path=\"Game.ts\"/>\n\nmodule Mankala {\nexport var storeHouses = [6,13];\nexport var svgNS = 'http://www.w3.org/2000/svg';\n\nfunction createSVGRect(r:Rectangle) {\n\tvar rect = document.createElementNS(svgNS,'rect');\n\trect.setAttribute('x', r.x.toString());\n\trect.setAttribute('y', r.y.toString());\n\trect.setAttribute('width', r.width.toString());\n\trect.setAttribute('height', r.height.toString());\n\treturn rect;\n}\n\nfunction createSVGEllipse(r:Rectangle) {\n\tvar ell = document.createElementNS(svgNS,'ellipse');\n\tell.setAttribute('rx',(r.width/2).toString());\n\tell.setAttribute('ry',(r.height/2).toString());\n\tell.setAttribute('cx',(r.x+r.width/2).toString());\n\tell.setAttribute('cy',(r.y+r.height/2).toString());\n\treturn ell;\n}\n\nfunction createSVGEllipsePolar(angle:number,radius:number,tx:number,ty:number,cxo:number,cyo:number) {\n\tvar ell = document.createElementNS(svgNS,'ellipse');\n\tell.setAttribute('rx',radius.toString());\n\tell.setAttribute('ry',(radius/3).toString());\n\tell.setAttribute('cx',cxo.toString());\n\tell.setAttribute('cy',cyo.toString());\n\tvar dangle = angle*(180/Math.PI);\n\tell.setAttribute('transform','rotate('+dangle+','+cxo+','+cyo+') translate('+tx+','+ty+')');\n\treturn ell;\n}\n\nfunction createSVGInscribedCircle(sq:Square) {\n\tvar circle = document.createElementNS(svgNS,'circle');\n\tcircle.setAttribute('r',(sq.length/2).toString());\n\tcircle.setAttribute('cx',(sq.x+(sq.length/2)).toString());\n\tcircle.setAttribute('cy',(sq.y+(sq.length/2)).toString());\n\treturn circle;\n}\n\nexport class Position {\n\n\tseedCounts:number[];\n\tstartMove:number;\n\tturn:number;\n\n\tconstructor(seedCounts:number[],startMove:number,turn:number) {\n\t\tthis.seedCounts = seedCounts;\n\t\tthis.startMove = startMove;\n\t\tthis.turn = turn;\n\t}\n\n\tscore() {\n\t\tvar baseScore = this.seedCounts[storeHouses[1-this.turn]]-this.seedCounts[storeHouses[this.turn]];\n\t\tvar otherSpaces = homeSpaces[this.turn];\n\t\tvar sum = 0;\n\t\tfor (var k = 0,len = otherSpaces.length;k<len;k++) {\n\t\t\tsum += this.seedCounts[otherSpaces[k]];\n\t\t}\n\t\tif (sum==0) {\n\t\t\tvar mySpaces = homeSpaces[1-this.turn];\n\t\t\tvar mySum = 0;\n\t\t\tfor (var j = 0,len = mySpaces.length;j<len;j++) {\n\t\t\t\tmySum += this.seedCounts[mySpaces[j]];\n\t\t\t}\n\n\t\t\tbaseScore -= mySum;\n\t\t}\n\t\treturn baseScore;\n\t}\n\n\tmove(space:number,nextSeedCounts:number[],features:Features):boolean {\n\t\tif ((space==storeHouses[0])||(space==storeHouses[1])) {\n\t\t\t// can't move seeds in storehouse\n\t\t\treturn false;\n\t\t}\n\t\tif (this.seedCounts[space]>0) {\n\t\t\tfeatures.clear();\n\t\t\tvar len = this.seedCounts.length;\n\t\t\tfor (var i = 0;i<len;i++) {\n\t\t\t\tnextSeedCounts[i] = this.seedCounts[i];\n\t\t\t}\n\t\t\tvar seedCount = this.seedCounts[space];\n\t\t\tnextSeedCounts[space] = 0;\n\t\t\tvar nextSpace = (space+1)%14;\n\n\t\t\twhile (seedCount>0) {\n\t\t\t\tif (nextSpace==storeHouses[this.turn]) {\n\t\t\t\t\tfeatures.seedStoredCount++;\n\t\t\t\t}\n\t\t\t\tif ((nextSpace!=storeHouses[1-this.turn])) {\n\t\t\t\t\tnextSeedCounts[nextSpace]++;\n\t\t\t\t\tseedCount--;\n\t\t\t\t}\n\t\t\t\tif (seedCount==0) {\n\t\t\t\t\tif (nextSpace==storeHouses[this.turn]) {\n\t\t\t\t\t\tfeatures.turnContinues = true;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif ((nextSeedCounts[nextSpace]==1)&&\n\t\t\t\t\t\t\t(nextSpace>=firstHomeSpace[this.turn])&&\n\t\t\t\t\t\t\t(nextSpace<=lastHomeSpace[this.turn])) {\n\t\t\t\t\t\t\t// capture\n\t\t\t\t\t\t\tvar capturedSpace = capturedSpaces[nextSpace];\n\t\t\t\t\t\t\tif (capturedSpace>=0) {\n\t\t\t\t\t\t\t\tfeatures.spaceCaptured = capturedSpace;\n\t\t\t\t\t\t\t\tfeatures.capturedCount = nextSeedCounts[capturedSpace];\n\t\t\t\t\t\t\t\tnextSeedCounts[capturedSpace] = 0;\n\t\t\t\t\t\t\t\tnextSeedCounts[storeHouses[this.turn]] += features.capturedCount;\n\t\t\t\t\t\t\t\tfeatures.seedStoredCount += nextSeedCounts[capturedSpace];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tnextSpace = (nextSpace+1)%14;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport class SeedCoords {\n\ttx:number;\n\tty:number;\n\tangle:number;\n\n\tconstructor(tx:number, ty:number, angle:number) {\n\t\tthis.tx = tx;\n\t\tthis.ty = ty;\n\t\tthis.angle = angle;\n\t}\n}\n\nexport class DisplayPosition extends Position {\n\n\tconfig:SeedCoords[][];\n\n\tconstructor(seedCounts:number[],startMove:number,turn:number) {\n\t\tsuper(seedCounts,startMove,turn);\n\n\t\tthis.config = [];\n\n\t\tfor (var i = 0;i<seedCounts.length;i++) {\n\t\t\tthis.config[i] = new Array<SeedCoords>();\n\t\t}\n\t}\n\n\n\tseedCircleRect(rect:Rectangle,seedCount:number,board:Element,seed:number) {\n\t\tvar coords = this.config[seed];\n\t\tvar sq = rect.inner(0.95).square();\n\t\tvar cxo = (sq.width/2)+sq.x;\n\t\tvar cyo = (sq.height/2)+sq.y;\n\t\tvar seedNumbers = [5,7,9,11];\n\t\tvar ringIndex = 0;\n\t\tvar ringRem = seedNumbers[ringIndex];\n\t\tvar angleDelta = (2*Math.PI)/ringRem;\n\t\tvar angle = angleDelta;\n\t\tvar seedLength = sq.width/(seedNumbers.length<<1);\n\t\tvar crMax = sq.width/2-(seedLength/2);\n\t\tvar pit = createSVGInscribedCircle(sq);\n\t\tif (seed<7) {\n\t\t\tpit.setAttribute('fill','brown');\n\t\t}\n\t\telse {\n\t\t\tpit.setAttribute('fill','saddlebrown');\n\t\t}\n\t\tboard.appendChild(pit);\n\t\tvar seedsSeen = 0;\n\t\twhile (seedCount > 0) {\n\t\t\tif (ringRem == 0) {\n\t\t\t\tringIndex++;\n\t\t\t\tringRem = seedNumbers[ringIndex];\n\t\t\t\tangleDelta = (2*Math.PI)/ringRem;\n\t\t\t\tangle = angleDelta;\n\t\t\t}\n\t\t\tvar tx:number;\n\t\t\tvar ty:number;\n\t\t\tvar tangle = angle;\n\t\t\tif (coords.length>seedsSeen) {\n\t\t\t\ttx = coords[seedsSeen].tx;\n\t\t\t\tty = coords[seedsSeen].ty;\n\t\t\t\ttangle = coords[seedsSeen].angle;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttx = (Math.random()*crMax)-(crMax/3);\n\t\t\t\tty = (Math.random()*crMax)-(crMax/3);\n\t\t\t\tcoords[seedsSeen] = new SeedCoords(tx,ty,angle);\n\t\t\t}\n\t\t\tvar ell = createSVGEllipsePolar(tangle,seedLength,tx,ty,cxo,cyo);\n\t\t\tboard.appendChild(ell);\n\t\t\tangle += angleDelta;\n\t\t\tringRem--;\n\t\t\tseedCount--;\n\t\t\tseedsSeen++;\n\t\t}\n\t}\n\n\ttoCircleSVG() {\n\t\tvar seedDivisions = 14;\n\t\tvar board = document.createElementNS(svgNS,'svg');\n\t\tvar boardRect = new Rectangle(0,0,1800,800);\n\t\tboard.setAttribute('width','1800');\n\t\tboard.setAttribute('height','800');\n\t\tvar whole = createSVGRect(boardRect);\n\t\twhole.setAttribute('fill','tan');\n\t\tboard.appendChild(whole);\n\t\tvar labPlayLab = boardRect.proportionalSplitVert(20,760,20);\n\t\tvar playSurface = labPlayLab[1];\n\t\tvar storeMainStore = playSurface.proportionalSplitHoriz(8,48,8);\n\t\tvar mainPair = storeMainStore[1].subDivideVert(2);\n\t\tvar playerRects = [mainPair[0].subDivideHoriz(6), mainPair[1].subDivideHoriz(6)];\n\t\t// reverse top layer because storehouse on left\n\t\tfor (var k = 0;k<3;k++) {\n\t\t\tvar temp = playerRects[0][k];\n\t\t\tplayerRects[0][k] = playerRects[0][5-k];\n\t\t\tplayerRects[0][5-k] = temp;\n\t\t}\n\t\tvar storehouses = [storeMainStore[0],storeMainStore[2]];\n\t\tvar playerSeeds = this.seedCounts.length>>1;\n\t\tfor (var i = 0;i<2;i++) {\n\t\t\tvar player = playerRects[i];\n\t\t\tvar storehouse = storehouses[i];\n\t\t\tvar r:Rectangle;\n\t\t\tfor (var j = 0;j<playerSeeds;j++) {\n\t\t\t\tvar seed = (i*playerSeeds)+j;\n\t\t\t\tvar seedCount = this.seedCounts[seed];\n\t\t\t\tif (j==(playerSeeds-1)) {\n\t\t\t\t\tr = storehouse;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tr = player[j];\n\t\t\t\t}\n\t\t\t\tthis.seedCircleRect(r,seedCount,board,seed);\n\t\t\t\tif (seedCount==0) {\n\t\t\t\t\t// clear\n\t\t\t\t\tthis.config[seed] = new Array<SeedCoords>();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn board;\n\t}\n}\n}\n",t.debuggableFile="# VS Code Mock Debug\n\nThis is a starter sample for developing VS Code debug adapters.\n\n**Mock Debug** simulates a debug adapter for Visual Studio Code.\nIt supports *step*, *continue*, *breakpoints*, *exceptions*, and\n*variable access* but it is not connected to any real debugger.\n\nThe sample is meant as an educational piece showing how to implement a debug\nadapter for VS Code. It can be used as a starting point for developing a real adapter.\n\nMore information about how to develop a new debug adapter can be found\n[here](https://code.visualstudio.com/docs/extensions/example-debuggers).\nOr discuss debug adapters on Gitter:\n[![Gitter Chat](https://img.shields.io/badge/chat-online-brightgreen.svg)](https://gitter.im/Microsoft/vscode)\n\n## Using Mock Debug\n\n* Install the **Mock Debug** extension in VS Code.\n* Create a new 'program' file 'readme.md' and enter several lines of arbitrary text.\n* Switch to the debug viewlet and press the gear dropdown.\n* Select the debug environment \"Mock Debug\".\n* Press the green 'play' button to start debugging.\n\nYou can now 'step through' the 'readme.md' file, set and hit breakpoints, and run into exceptions (if the word exception appears in a line).\n\n![Mock Debug](file.jpg)\n\n## Build and Run\n\n[![build status](https://travis-ci.org/Microsoft/vscode-mock-debug.svg?branch=master)](https://travis-ci.org/Microsoft/vscode-mock-debug)\n[![build status](https://ci.appveyor.com/api/projects/status/empmw5q1tk6h1fly/branch/master?svg=true)](https://ci.appveyor.com/project/weinand/vscode-mock-debug)\n\n\n* Clone the project [https://github.com/Microsoft/vscode-mock-debug.git](https://github.com/Microsoft/vscode-mock-debug.git)\n* Open the project folder in VS Code.\n* Press 'F5' to build and launch Mock Debug in another VS Code window. In that window:\n* Open a new workspace, create a new 'program' file 'readme.md' and enter several lines of arbitrary text.\n* Switch to the debug viewlet and press the gear dropdown.\n* Select the debug environment \"Mock Debug\".\n* Press 'F5' to start debugging.",t.getImageFile=function(){const e=atob("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");return Uint8Array.from([...e].map(e=>e.charCodeAt(0)))},t.windows1251File=Uint8Array.from([192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]),t.gbkFile=Uint8Array.from([214,208,185,250,97,98,99])}]));
//# sourceMappingURL=extension.js.map